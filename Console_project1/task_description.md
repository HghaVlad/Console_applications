
## Задача 1
Создадим небольшое консольное приложение, которое будет предназначено для создания опросов и опрашивания пользователей
<br>

### Функционал программы:
- Авторизация пользователя через логин
- Создание пользователя(имя, возраст, логин)
- Создание опроса
- Просмотр доступных опросов
- Прохождение опроса

### Необходимые таблицы:
- Пользователи
- Опросы
- Результаты опросов


## _Решение задачи 1_

Для начала продумаем какой будет функционал у пользователя в разные этапы использования
0. При запуске мы видим приветственный текст и доступные команды:
   1. Нажмите 1 для регистрации
   2. Нажмите 2 для авторизации
   3. Нажмите 3 для просмотра доступных опросов
   4. Нажмите 4 для прохождения опроса
1. Регистрация пользователя: На данном этапе пользователю необходимо выбрать логин,
который после ввода надо будет проверить в базе, написать имя и возраст
2. Авторизация пользователя: Пользователь вводит логин, если он есть в базе, то в сессии записывается он и 
дается возможность принять участие в опросе
3. Прсомотр опросов: Получить список всех существующих опросов, если пользователь не проходил опрос, то пометить данный опрос
4. Прохождение опроса: Пользователь получает список опросов, которые он не проходил, выбирает опрос и начинает проходить


Теперь давайте создадим таблицы:

#### Таблица Users
```
CREATE TABLE Users(
      id INT PRIMARY KEY,
      user_name VARCHAR(50),
      age INT,
      login VARCHAR(50) 
);
```
#### Таблица Polls
```
CREATE TABLE Polls (
  id INT NOT NULL PRIMARY KEY,
  title VARCHAR(255) ,
  questions LONGTEXT
);
```
#### Таблица results
```
CREATE TABLE Results(
    id INT NOT NULL PRIMARY KEY,
    answers LONGTEXT,
    answer_date DATE,
    poll_id INT NOT NULL,
    user_id INT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES Users(id),
    FOREIGN KEY (poll_id) REFERENCES Polls(id)
)
```

### Написание кода:

Вся наша программа будет состоять из 6 функций:
- main_menu() - _Главное меню_
- register_user() - _Регистрация пользователя_
- login_user() - _Авторизация пользователя_
- polls_list() - _Список доступных опросов_
- select_poll() - _Получить список доступных опросов и выбрать опрос_
- ask_questions() - _Получение результатов от пользователя и запись их в базу_

[Весь код](poll_app.py)<br>
[SQL код](poll_base.sql)

### Важные моменты:
- Иногда, когда отправляются запросы к базе данных используется `f строка`,
а иногда `%s`. Использование `%s` позволяет избежать проблем, связанных с форматированием строк, и предотвращает возможность SQL Injection.
- После того, как в базу добавили данные, мы сохранили их, используя `connection.commit()`.
- Вероятно вы встречали примерно такие куски кода `user_polls = [int(x[0]) for x in cursor.fetchall()]`.
Дело в том, что мы получаем результат в виде кортежа кортежей(`((1,), (2,))`) и чтобы было удобнее работать мы преобразовываем данные 
